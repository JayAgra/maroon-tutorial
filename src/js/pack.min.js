// quiz.js
function runQuiz(id,button){var answer=document.getElementById(id).getAttribute("data-answer");var selected=document.querySelector(`input[name="${ id }-radio"]:checked`);if(selected.value===answer){document.getElementsByName(`${ id }-radio`).forEach((box)=>(box.disabled=true));button.setAttribute("data-attempts",Number(button.getAttribute("data-attempts"))+1);button.disabled=true;selected.parentElement.style.color="#0f0";if(button.getAttribute("data-attempts")==="1"){button.innerHTML="correct on first try";button.style.color="#0f0"}else if(button.getAttribute("data-attempts")==="4"){button.innerHTML="failed";button.style.color="#f00"}else{button.innerHTML="correct in "+button.getAttribute("data-attempts")+" tries";button.style.color="#ff0"}}else{button.setAttribute("data-attempts",Number(button.getAttribute("data-attempts"))+1);selected.parentElement.style.color="#f00";selected.disabled="true"}}
// saveprogress.js
const pages=[];pageManifest.forEach((element)=>{pages.push(element.id)});console.log(pages);function setPageAsRead(pageUID=0,elementNumber=0){let cookieValue=document.cookie.split("; ").find((row)=>row.startsWith("735369a9857a9f670dea0="))?.split("=")[1];if(cookieValue===undefined||window.completepages===undefined){window.completepages=cookieValue===undefined?[0]:cookieValue.split(",").map((element)=>{return Number(element)});if(cookieValue===undefined){document.cookie=`735369a9857a9f670dea0=0`;document.getElementsByClassName("tocItem")[0].firstChild.className="tocItemHalign tocComplete"}}else{document.getElementById("progressIndicator").textContent=Math.round((cookieValue.split(",").map((element)=>{return Number(element)}).filter((element)=>{return pages.includes(element)}).length/pages.length)*100);if(!cookieValue.split(",").map((element)=>{return Number(element)}).includes(pageUID)){window.completepages.push(pageUID);document.cookie=`735369a9857a9f670dea0=${window.completepages.join(",")}`;document.getElementsByClassName("tocItem")[elementNumber].firstChild.className="tocItemHalign tocComplete";document.getElementById("progressIndicator").textContent=Math.round(100*(cookieValue.split(",").map((element)=>{return Number(element)}).filter((element)=>{return pages.includes(element)}).length/pages.length))}}}
// startapp.js
document.body.className=document.cookie.split("; ").find((row)=>row.startsWith("93e8f3ca5c740f21a8c0992="))?.split("=")[1];pageManifest.forEach((e,i)=>{let c=document.createElement("div");c.className=i===0?"tocItem tocSelectedItem":"tocItem";c.setAttribute("pageID",e.id);let s=document.createElement("div");s.className=i===0?"tocItemHalign tocComplete":"tocItemHalign";let t=document.createElement("span");t.className="tocItemTitleHolder";t.innerText=e.title;s.appendChild(t);c.appendChild(s);document.getElementsByClassName("tocContents")[0].appendChild(c)});const tocItems=Array.from(document.getElementsByClassName("tocItem"));window.currentPage=0;tocItems.forEach((tocItem)=>{tocItem.onclick=()=>{tocItems[window.currentPage].classList.remove("tocSelectedItem");loadPage(tocItems.indexOf(tocItem));tocItems[tocItems.indexOf(tocItem)].classList.add("tocSelectedItem")};tocItem.firstChild.classList=document.cookie.split("; ").find((row)=>row.startsWith("735369a9857a9f670dea0="))?.split("=")[1].split(",").includes(tocItem.getAttribute("pageid"))?"tocItemHalign tocComplete":"tocItemHalign tocIncomplete"});document.getElementById("progressIndicator").textContent=Math.round((document.cookie.split("; ").find((row)=>row.startsWith("735369a9857a9f670dea0="))?.split("=")[1].split(",").length/pageManifest.length)*100);
// contentload.js
function loadPage(pnum=0){const xhr=new XMLHttpRequest();xhr.open("GET",`src/pages/${pageManifest[pnum].src }`,true);xhr.onreadystatechange=async()=>{if(xhr.readyState===XMLHttpRequest.DONE){console.log("200 ok");document.getElementById("articleContentElement").innerHTML=xhr.responseText;hljs.highlightAll();window.currentPage=pnum;setPageAsRead(pageManifest[pnum].id,pnum);return}else if(xhr.status===401){console.log("401 failure")}else if(xhr.status===400){console.log("400 failure")}else if(xhr.status===500){console.log("500 failure")}else{console.log("awaiting response")}};xhr.send()}
// settings.js
document.getElementById("settingsTrigger").addEventListener("click",()=>{let settingModalOverlay=document.getElementsByClassName("settingModalOverlay")[0];settingModalOverlay.style.display="inherit";settingModalOverlay.className="settingModalOverlay fadeIn";let cookieTheme=document.cookie.split("; ").find((row)=>row.startsWith("93e8f3ca5c740f21a8c0992="))?.split("=")[1];document.getElementById("themeColor").value=cookieTheme===undefined?"dark":cookieTheme;document.getElementById("themeColor").addEventListener("change",(e)=>{document.cookie=`93e8f3ca5c740f21a8c0992=${e.target.value }`;document.body.className=e.target.value;console.log(e.target.value)});document.getElementById("resetProgress").addEventListener("click",(e)=>{if(confirm("Are you sure you would like to reset your progress? This action cannot be reversed.")){document.cookie=`735369a9857a9f670dea0=0`;alert("Progress reset successfully.");window.location.reload();throw new Error("reloading")}else{alert("Cancelled data reset.")}});document.getElementById("importSaveData").addEventListener("change",(e)=>{if(e.target.files.length){var saveReader=new FileReader();saveReader.onload=function(readerE){document.cookie=atob(readerE.target.result);alert("Done!");window.location.reload();throw new Error("reloading")};saveReader.readAsBinaryString(e.target.files[0])}});document.getElementById("exportSaveData").addEventListener("click",(e)=>{var dLink=document.createElement("a");dLink.setAttribute("href","data:application/octet-stream;charset=utf-8,"+encodeURIComponent(btoa(document.cookie)));dLink.setAttribute("download",Date.now()+".maroonsave");dLink.style.display="none";document.body.appendChild(dLink);dLink.click();document.body.removeChild(dLink)});document.getElementsByClassName("closeSettingsModal")[0].onclick=()=>{settingModalOverlay.className="settingModalOverlay fadeOut"};document.getElementById("installSw").addEventListener("click",(e)=>{alert("i didn't implement this yet :~)")});document.getElementById("updateSw").addEventListener("click",(e)=>{alert("i didn't implement this yet :~)")});document.getElementById("uninstallSw").addEventListener("click",(e)=>{alert("i didn't implement this yet :~)")});document.addEventListener("keypress",(e)=>{if(e.key==="Escape"){settingModalOverlay.className="settingModalOverlay fadeOut"}})});